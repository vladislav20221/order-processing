version: "3.9"
name: cluster-order-processing

services:

  postgres:
    extends:
      file: postgres/postgresql.yml
      service: postgres

  redis:
    extends:
      file: redis/redis/redis.yml
      service: redis

  redis-insight:
    extends:
      file: redis/ui/ui.yml
      service: redis-insight

  zookeeper:
    extends:
      file: kafka/zookeeper/zookeeper.yml
      service: zookeeper

  broker-kafka-0:
    depends_on:
      - zookeeper
    extends:
      file: kafka/kafka/kafka.yml
      service: broker-kafka-0

  broker-kafka-1:
    depends_on:
      - zookeeper
    extends:
      file: kafka/kafka/kafka.yml
      service: broker-kafka-1

  broker-kafka-2:
    depends_on:
      - zookeeper
    extends:
      file: kafka/kafka/kafka.yml
      service: broker-kafka-2

  kafka-drop:
    depends_on:
      - broker-kafka-0
      - broker-kafka-1
      - broker-kafka-2
    extends:
      file: kafka/admin/admin.yml
      service: kafka-drop

  kafka-ui:
    depends_on:
      - broker-kafka-0
      - broker-kafka-1
      - broker-kafka-2
    extends:
      file: kafka/admin/admin.yml
      service: kafka-ui